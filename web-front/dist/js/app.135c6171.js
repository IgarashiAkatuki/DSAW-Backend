(function(){var t={9634:function(t,e,a){"use strict";a.r(e);var n=a(8081),o=a.n(n),r=a(3645),i=a.n(r),l=i()(o());l.push([t.id,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:60px}body::-webkit-scrollbar{display:none}.wrapper{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}",""]),e["default"]=l},1127:function(t,e,a){"use strict";a.r(e);var n=a(8081),o=a.n(n),r=a(3645),i=a.n(r),l=i()(o());l.push([t.id,".main-wrapper{width:800px;min-width:200px}#input{resize:none;position:relative;display:block;width:100%;padding:10px 11px;border:none;outline:none;box-sizing:border-box;border-radius:5px;box-shadow:inset 0 0 0 1px #a3a3a3;margin-bottom:20px;font-family:Arial,Helvetica,sans-serif}#input:focus{box-shadow:inset 0 0 0 1px #409eff}#input::-webkit-scrollbar{display:none}.show-box{margin-bottom:30px;width:100%;height:auto;min-height:100px}.translation-add-row{display:flex;justify-content:space-between}.translation-word-title{font-size:large;font-weight:700}.single-translation .el-card__body{height:25px;line-height:25px;padding:20px 0}.translation-icon{cursor:pointer;font-size:small}.add-like-icon,.sub-error-icon{display:block}@media screen and (max-width:960px){.single-translation .el-card__body{height:15px;line-height:15px}}.translation-add .el-card__body{line-height:5px}.translation-content,.translation-icon{height:100%}.translation-icon .el-card__body{padding:0;height:100%;display:flex;justify-content:center;align-items:center}.el-card.is-hover-shadow{border:1px solid #000}.icon-wrapper{pointer-events:none}@media screen and (max-width:960px){.main-wrapper{width:100%}}",""]),e["default"]=l},1316:function(t,e,a){"use strict";a.r(e);var n=a(8081),o=a.n(n),r=a(3645),i=a.n(r),l=i()(o());l.push([t.id,".ques-wrapper{display:flex;flex-direction:column;align-items:center;gap:30px;margin:50px auto 0;width:100%}.ques-form{width:100%}.form-btn div{display:flex;justify-content:center}",""]),e["default"]=l},8064:function(t,e,a){"use strict";var n=a(9242),o=a(644),r=(a(3587),a(3396)),i=a(4870),l=a(7139);const s=/^[\u4e00-\u9fa5A-Za-z0-9_-]+[\)）（，；\(\.\%。\u4e00-\u9fa5A-Za-z0-9_-]?$/,d={class:"ques-wrapper"};var u={__name:"Question",props:["words"],emits:["closeQues"],setup(t,{emit:e}){const a=t,n=(0,i.iH)("");let o=(0,i.qj)({content:[{word:a.words[0].word,translation:""},{word:a.words[1].word,translation:""},{word:a.words[2].word,translation:""},{word:a.words[3].word,translation:""},{word:a.words[4].word,translation:""}]});const l=async t=>{if(!t)return;let e=o.content.filter((t=>""!=t.translation));0!=e.length?await t.validate(((t,a)=>{t?(u.value=!0,console.log("submit!"),p(0,e)):(alert("含有非法内容"),console.log("error submit!",a))})):alert("空表格")};let u=(0,i.iH)(!1),c=[0,0];function p(t,a){t==a.length?(alert("成功："+c[1]+"个，失败："+c[0]+"个"),u.value=!1,e("closeQues")):$.ajax({url:"/api/submitTranslationsToTemp",type:"POST",timeout:1e3,data:{word:a[t].word,translation:a[t].translation},dataType:"JSON",success:function(e){1==e.info?(c[1]++,p(t+1,a)):(c[0]++,p(t+1,a))},error:function(){c[0]++,p(t+1,a)}})}return(e,a)=>{const c=(0,r.up)("el-input"),p=(0,r.up)("el-form-item"),f=(0,r.up)("el-button"),w=(0,r.up)("el-form"),m=(0,r.Q2)("loading");return(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",d,[(0,r.Wm)(w,{ref_key:"wordsForm",ref:n,model:(0,i.SU)(o),"label-position":"top",class:"ques-form",style:{"max-width":"800px"}},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.words,((t,e)=>((0,r.wg)(),(0,r.j4)(p,{key:e,label:`${e+1}. ${t.word}`,prop:"content."+e+".translation",rules:[{pattern:(0,i.SU)(s),message:"请输入合法内容",trigger:["change","blur"]}]},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:(0,i.SU)(o).content[e].translation,"onUpdate:modelValue":t=>(0,i.SU)(o).content[e].translation=t,size:"large",placeholder:"请输入释义"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label","prop","rules"])))),128)),(0,r.Wm)(p,{size:"large",class:"form-btn"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"danger",onClick:a[0]||(a[0]=t=>n.value.resetFields())},{default:(0,r.w5)((()=>[(0,r.Uk)("清空")])),_:1}),(0,r.Wm)(f,{type:"primary",onClick:a[1]||(a[1]=t=>l(n.value))},{default:(0,r.w5)((()=>[(0,r.Uk)("提交")])),_:1})])),_:1})])),_:1},8,["model"])])),[[m,(0,i.SU)(u)]])}}};a(825);const c=u;var p=c,f=a(70);a(5410);function w(t){return(0,i.ZM)(((e,a)=>{let n;return{get(){return e(),t},set(e){clearTimeout(n),n=setTimeout((()=>{t=e,a()}),500)}}}))}function m(t){console.log(t),$.ajax({url:"/api/addLikesToPersistence",type:"POST",timeout:1e3,data:{translation:t},dataType:"JSON",success:function(t){console.log(t),1==t.info?alert("添加成功！"):alert("添加失败！")},error:function(){alert("添加失败！")}})}function g(t,e,a){console.log(t,e,a),$.ajax({url:"/api/feedback/addErratum",type:"POST",timeout:1e3,data:{word:t,translation:e,reason:a},dataType:"JSON",success:function(t){console.log(t),1==t.info?alert("提交成功！"):alert("提交失败！")},error:function(){alert("提交失败！")}})}let h=/^[\u4e00-\u9fa5A-Za-z0-9_-]+[\)）（，；\(\.\%。\u4e00-\u9fa5A-Za-z0-9_-]?$/;function v(){let t=prompt("输入需要被翻译的词条");null!=t&&null!=t.match(/\S/)&&h.test(t)?$.ajax({url:"/api/queryWord",type:"POST",timeout:1e3,data:{word:t},dataType:"JSON",success:function(e){1==e.info?alert("该词条已存在"):$.ajax({url:"/api/addWords",type:"POST",timeout:1e3,data:{word:t},dataType:"JSON",success:function(t){1==t.info?alert("添加成功！"):alert("添加失败！")},error:function(){alert("添加失败！")}})},error:function(){alert("查询失败")}}):alert("词条不合法！")}let x=/^[\u4e00-\u9fa5A-Za-z0-9_-]+[\)）（，；\(\.\%。\u4e00-\u9fa5A-Za-z0-9_-]?$/;function b(t){return!(null==t||null==t.match(/\S/)||!x.test(t))}const y={class:"main-wrapper"},_=(0,r._)("section",null,[(0,r._)("div",null,[(0,r._)("h1",null,"输入任意字符")])],-1),S={class:"show-box"},k=(0,r._)("div",null,null,-1),A={class:"translation-add-row"},U={class:"translation-word-title"},j={class:"icon-wrapper"},O=(0,r._)("span",{class:"add-like-icon"},"👍",-1),T=(0,r._)("div",{class:"icon-wrapper"},[(0,r._)("span",{class:"sub-error-icon"},"❌"),(0,r._)("span",null,"纠错")],-1);var z={__name:"Main",setup(t){let e=(0,i.iH)(!1),a=(0,i.iH)(!0),o=w(""),s=(0,i.iH)(!1),d=(0,i.qj)({text:"获取问卷",disabled:!1}),u=(0,i.qj)({text:o,data:[]}),c=f.ZP.create({timeout:3e3}),h=(0,i.qj)({isShowQuestion:!1,isShowLoading:!0,isShowReturn:!1,getBtn:{text:"获取问卷",disabled:!1},getTranslationsFromTemp:{word:o},words:{}});function x(){0==e.value?c.post("/api/getRandomQuestionnaire").then((t=>{h.words=t.data,e.value=!0,d.text="成功！！"})).catch((t=>{alert("发生错误"),d.text="获取失败",d.disabled=!0})):(e.value=!1,d.text="你已提交",d.disabled=!0)}function z(t){let e=t.target.parentNode.dataset.translation;m(e)}function W(t){let e=t.target.parentNode.dataset.translation,a=prompt("错误原因：");b(a)?g(o.value,e,a):alert("内容格式错误")}return(0,r.YP)(o,(t=>{u.data.length=0,null==t.match(/\S/)?s.value=!1:(s.value=!0,a.value=!0,$.ajax({url:"/api/getTranslationsFromPersistence",type:"POST",timeout:1e3,data:{word:t},dataType:"JSON",success:function(t){a.value=!1,t.info?u.data=[{translation:"暂无数据"}]:u.data=t},error:function(){a.value=!1,u.data=[{translation:"请求失败"}]}}))}),{immediate:!0}),(t,c)=>{const f=(0,r.up)("el-card"),w=(0,r.up)("el-col"),m=(0,r.up)("el-row"),g=(0,r.up)("el-space"),b=(0,r.up)("el-button"),C=(0,r.up)("el-main"),M=(0,r.up)("el-container"),P=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",y,[_,(0,r._)("section",null,[(0,r.Wm)(M,{class:"main-wrapper-inner"},{default:(0,r.w5)((()=>[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("textarea",{name:"input",id:"input","onUpdate:modelValue":c[0]||(c[0]=t=>(0,i.dq)(o)?o.value=t:o=t),rows:"10",placeholder:"请输入关键字"},null,512),[[n.nr,(0,i.SU)(o)]]),(0,r.wy)((0,r._)("div",S,[k,(0,r.wy)(((0,r.wg)(),(0,r.j4)(g,{fill:"fill",direction:"vertical",style:{width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{class:"translation-add"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{shadow:"never"},{default:(0,r.w5)((()=>[(0,r._)("div",A,[(0,r._)("span",U,(0,l.zw)((0,i.SU)(o)),1),(0,r._)("span",{class:"translation-icon",onClick:c[1]||(c[1]=e=>t.submitTranslation((0,i.SU)(o)))},"➕")])])),_:1})])),_:1})])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,i.SU)(u).data,(t=>((0,r.wg)(),(0,r.j4)(m,{key:t,gutter:3,class:"single-translation"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{span:t.id?16:24,xm:t.id?16:24,sm:t.id?18:24,md:t.id?18:24,lg:t.id?18:24,xl:t.id?18:24},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{class:"translation-content",shadow:"hover"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(t.translation),1)])),_:2},1024)])),_:2},1032,["span","xm","sm","md","lg","xl"]),t.id?((0,r.wg)(),(0,r.j4)(w,{key:0,span:4,xm:4,sm:3,md:3,lg:3,xl:3},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{class:"translation-icon add-likes",shadow:"hover","data-translation":t.translation,onClick:z},{default:(0,r.w5)((()=>[(0,r._)("div",j,[O,(0,r._)("span",null,(0,l.zw)(t.likes),1)])])),_:2},1032,["data-translation"])])),_:2},1024)):(0,r.kq)("",!0),t.id?((0,r.wg)(),(0,r.j4)(w,{key:1,span:4,xm:4,sm:3,md:3,lg:3,xl:3},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{class:"translation-icon add-against",shadow:"hover","data-translation":t.translation,onClick:W},{default:(0,r.w5)((()=>[T])),_:2},1032,["data-translation"])])),_:2},1024)):(0,r.kq)("",!0)])),_:2},1024)))),128))])),_:1})),[[P,(0,i.SU)(a)]])],512),[[n.F8,(0,i.SU)(s)]]),(0,r.Wm)(b,{type:"success",size:"large",onClick:(0,i.SU)(v)},{default:(0,r.w5)((()=>[(0,r.Uk)("添加词条")])),_:1},8,["onClick"]),(0,r.Wm)(b,{disabled:(0,i.SU)(d).disabled,type:"primary",onClickOnce:x,size:"large"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)((0,i.SU)(d).text),1)])),_:1},8,["disabled"]),(0,i.SU)(e)?(0,r.wy)(((0,r.wg)(),(0,r.j4)((0,i.SU)(p),{key:0,words:(0,i.SU)(h).words,onCloseQues:x},null,8,["words"])),[[P,0]]):(0,r.kq)("",!0)])),_:1})])),_:1})])])}}};a(4412);const W=z;var C=W;const M={class:"wrapper"};var P={__name:"App",setup(t){return(t,e)=>((0,r.wg)(),(0,r.iD)("div",M,[(0,r.Wm)((0,i.SU)(C))]))}};a(6407);const Z=P;var q=Z;const H=(0,n.ri)(q);H.use(o.Z),H.config.globalProperties.$axios=f.ZP,f.ZP.defaults.baseURL="/",H.mount("#app")},6407:function(t,e,a){var n=a(9634);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=a(7037).Z;o("cc67f292",n,!0,{sourceMap:!1,shadowMode:!1})},4412:function(t,e,a){var n=a(1127);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=a(7037).Z;o("3c963b6a",n,!0,{sourceMap:!1,shadowMode:!1})},825:function(t,e,a){var n=a(1316);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=a(7037).Z;o("54e68f18",n,!0,{sourceMap:!1,shadowMode:!1})},6270:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg=="},9235:function(t){"use strict";t.exports="data:image/svg+xml;utf8,%3Csvg class=%27icon%27 width=%27200%27 height=%27200%27 viewBox=%270 0 1024 1024%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath fill=%27currentColor%27 d=%27M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z%27%3E%3C/path%3E%3C/svg%3E"},4654:function(){}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={id:n,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,r){if(!n){var i=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],r=t[u][2];for(var l=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[s])}))?n.splice(s--,1):(l=!1,r<i&&(i=r));if(l){t.splice(u--,1);var d=o();void 0!==d&&(e=d)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,o,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.b=document.baseURI||self.location.href;var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,i=n[0],l=n[1],s=n[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(s)var u=s(a)}for(e&&e(n);d<i.length;d++)r=i[d],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},n=self["webpackChunkdemo"]=self["webpackChunkdemo"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(8064)}));n=a.O(n)})();
//# sourceMappingURL=app.135c6171.js.map