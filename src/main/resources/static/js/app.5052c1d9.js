(function(){var e={4193:function(e,a,t){"use strict";t.r(a);var l=t(8081),n=t.n(l),o=t(3645),r=t.n(o),i=r()(n());i.push([e.id,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:60px}body::-webkit-scrollbar{display:none}body{background-color:#f2f2f2}.wrapper{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}input::-moz-selection{background:#79bbff;color:#fff}input::selection{background:#79bbff;color:#fff}",""]),a["default"]=i},344:function(e,a,t){"use strict";t.r(a);var l=t(8081),n=t.n(l),o=t(3645),r=t.n(o),i=r()(n());i.push([e.id,".main-wrapper{width:800px;min-width:200px}.switch-wrapper{text-align:left;padding-left:5px}#input{resize:none;position:relative;display:block;width:100%;padding:10px 11px;border:none;outline:none;box-sizing:border-box;border-radius:5px;box-shadow:inset 0 0 0 1px #a3a3a3;margin-bottom:20px;font-family:Arial,Helvetica,sans-serif}#input:focus{box-shadow:inset 0 0 0 1px #409eff}#input::-webkit-scrollbar{display:none}.btn-wrapper,.show-box{width:100%}.show-box{margin-bottom:30px;height:auto;min-height:100px}.el-loading-mask{border-radius:4px}.show-box .el-button>span,.show-box .el-icon{pointer-events:none}@media screen and (max-width:960px){.main-wrapper{width:100%}}.ques-wrapper,.setu-wrapper{margin-top:30px}.setu-wrapper{min-height:500px;background-color:hsla(0,0%,100%,0)}#add-btn{margin-right:20px}",""]),a["default"]=i},2631:function(e,a,t){"use strict";t.r(a);var l=t(8081),n=t.n(l),o=t(3645),r=t.n(o),i=t(9976),s=r()(n());s.i(i.Z),s.push([e.id,".md{max-width:760px;margin:0 auto}",""]),a["default"]=s},607:function(e,a,t){"use strict";t.r(a);var l=t(8081),n=t.n(l),o=t(3645),r=t.n(o),i=r()(n());i.push([e.id,".dialog .el-dialog__body{padding-bottom:0;padding-top:20px}@media screen and (max-width:512px){.dialog{width:90%}}",""]),a["default"]=i},6080:function(e,a,t){"use strict";t.r(a);var l=t(8081),n=t.n(l),o=t(3645),r=t.n(o),i=r()(n());i.push([e.id,".ques-wrapper{display:flex;flex-direction:column;align-items:center;gap:30px;margin:50px auto 0;width:100%}.question-space{width:100%}.more{height:96px}.ques-form{width:100%}.form-btn div{display:flex;justify-content:center}.fade-enter-active,.fade-leave-active{transition:all .5s}.fade-enter-from,.fade-leave-to{transform:translateY(25px);opacity:0;height:0}",""]),a["default"]=i},2536:function(e,a,t){"use strict";t.r(a);var l=t(8081),n=t.n(l),o=t(3645),r=t.n(o),i=r()(n());i.push([e.id,".translation-add-wrapper{display:flex;justify-content:space-between}.translation-word-title{word-break:break-all;font-size:large;font-weight:700}.single-translation .el-card__body{padding:10px 0;display:flex;flex-wrap:nowrap;justify-content:center;align-items:center}.translation-icon{margin-left:15px;white-space:nowrap;cursor:pointer;display:flex;align-items:center}.translation-add .el-card__body{padding:12px 8px}.translation-content.el-card.is-hover-shadow{border:1px solid #c8c8c8}.icon-wrapper{font-size:small;display:inline-flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;margin-right:10px}.icon-text{padding:0}.tag{background-color:#67b3ffd1}.tag,.tag-url{font-size:small;border-radius:3px;color:#fff;padding:4px}.tag-url{background-color:#00bd36d1}.translation-text{display:flex;flex-wrap:wrap;flex-basis:100%;justify-content:center;align-items:center;gap:3px}",""]),a["default"]=i},4504:function(e,a,t){"use strict";t.r(a);var l=t(8081),n=t.n(l),o=t(3645),r=t.n(o),i=r()(n());i.push([e.id,".dialog .el-dialog__body{padding-bottom:0;padding-top:20px}@media screen and (max-width:512px){.dialog{width:90%}}",""]),a["default"]=i},7329:function(e,a,t){"use strict";t.r(a);var l=t(8081),n=t.n(l),o=t(3645),r=t.n(o),i=r()(n());i.push([e.id,".dialog .el-dialog__body{padding-bottom:0;padding-top:20px}@media screen and (max-width:512px){.dialog{width:90%}}",""]),a["default"]=i},569:function(e,a,t){"use strict";var l=t(9242),n=t(2748),o=t(3396),r=t(4870),i=t(1244);t(6844);const s=(0,o._)("h1",null,"DontSpeakAbsWords",-1),d=(0,o._)("h3",null,"黑话/拼音缩写翻译器",-1);function u(e,a){const t=i.os;return(0,o.wg)(),(0,o.iD)("div",null,[s,(0,o.Wm)(t),d])}var c=t(89);const p={},m=(0,c.Z)(p,[["render",u]]);var f=m,g=t(212),w=(t(5494),t(9740)),h=(t(8720),t(7086),t(4470)),y=(t(7539),t(4143)),v=(t(5982),t(3646)),k=(t(601),t(3614)),S=(t(3455),t(8631)),x=(t(1335),t(6666)),b=t(1565),_=(t(9077),t(2019),t(7139)),U=t(5036);t(2344);const W=(0,o._)("div",{class:"image-slot"},[(0,o._)("h3",null,"加载中...")],-1),z=(0,o._)("div",{class:"image-slot"},[(0,o._)("h3",null,"加载失败，可能你运气不好")],-1),T=(0,o._)("h2",null,"涩图",-1);function j(e,a,t,l,n,r){const i=U.F8;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i,{style:{width:"100%"},src:t.url,fit:e.fit},{placeholder:(0,o.w5)((()=>[W])),error:(0,o.w5)((()=>[z])),_:1},8,["src","fit"]),T],64)}var V={props:["url"]};const O=(0,c.Z)(V,[["render",j]]);var M=O,q=t(6374),C=(t(4542),t(9776)),D=(t(6526),t(4902)),H=(t(4184),t(8363)),F=(t(5737),t(7489)),P=(t(5663),t(8697)),L=(t(5745),t(4517),t(3983));t(6954);function N(e,a,t){return new Promise(((l,n)=>{$.ajax({url:"/api/addTranslationsSource",type:"POST",timeout:3e3,data:{translation:e,source:a,url:t},dataType:"JSON",success:function(e){0==e.code?l(!0):n(!1)},error:function(e){console.log(e),n(!1)}})}))}var Z={__name:"MeaningDialog",setup(e,{expose:a}){let t=(0,r.iH)(null),l=(0,r.qj)({word:"",translation:"",tag:"",link:null}),n=(0,r.iH)(!1);const i=e=>{l.word=e,n.value=!0};a({showDialog:i});const s=async e=>{e&&await e.validate(((e,a)=>{e?(n.value=!1,$.ajax({url:"/api/submitTranslationsToTemp",type:"POST",timeout:3e3,data:{word:l.word,translation:l.translation},dataType:"JSON",success:function(e){0==e.code?(b.z8.success("提交成功！"),""!=l.tag?N(l.translation.trim(),l.tag.trim(),l.link):t.value.resetFields()):(t.value.resetFields(),b.z8.error("提交失败！"))},error:function(e){console.log(e),t.value.resetFields(),b.z8.error("提交失败！")}})):b.z8.warning("内容为空")}))};return(e,a)=>{const i=L.EZ,d=P.nH,u=P.ly,c=k.mi,p=F.d0;return(0,o.wg)(),(0,o.j4)(p,{class:"dialog",modelValue:(0,r.SU)(n),"onUpdate:modelValue":a[5]||(a[5]=e=>(0,r.dq)(n)?n.value=e:n=e),"lock-scroll":"true",title:"提交释义",width:"450px","align-center":"",center:"","close-delay":"100"},{footer:(0,o.w5)((()=>[(0,o.Wm)(c,{size:"large",onClick:a[3]||(a[3]=e=>(0,r.dq)(n)?n.value=!1:n=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1}),(0,o.Wm)(c,{size:"large",type:"primary",onClick:a[4]||(a[4]=e=>s((0,r.SU)(t)))},{default:(0,o.w5)((()=>[(0,o.Uk)("确认")])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(u,{"label-position":"top",size:"large",model:(0,r.SU)(l),ref_key:"translationForm",ref:t},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{label:"释义（100字符以内）",prop:"translation",rules:[{required:!0,pattern:/\S+/,message:"内容不能为空",trigger:["change","blur"]}]},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:(0,r.SU)(l).translation,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,r.SU)(l).translation=e),maxlength:"100",clearable:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(d,{label:"出处（可不填，30字符以内）",prop:"tag"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:(0,r.SU)(l).tag,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,r.SU)(l).tag=e),maxlength:"30",clearable:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(d,{label:"出处链接（可不填）",prop:"link"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:(0,r.SU)(l).link,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,r.SU)(l).link=e),clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}}};t(5014);const J=Z;var E=J,K={__name:"TagDialog",setup(e,{expose:a}){let t=(0,r.iH)(null),l=(0,r.qj)({translation:"",tag:"",link:null}),n=(0,r.iH)(!1);const i=e=>{l.translation=e,n.value=!0};a({showDialog:i});const s=async e=>{e&&await e.validate((async(e,a)=>{e?(1==await N(l.translation,l.tag.trim(),l.link)?b.z8.success("提交成功！"):b.z8.error("提交失败！"),n.value=!1):b.z8.warning("内容为空")}))};return(e,a)=>{const i=L.EZ,d=P.nH,u=P.ly,c=k.mi,p=F.d0;return(0,o.wg)(),(0,o.j4)(p,{class:"dialog",modelValue:(0,r.SU)(n),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,r.dq)(n)?n.value=e:n=e),"lock-scroll":"true",title:"提交出处",width:"450px","align-center":"",center:"","close-delay":"100"},{footer:(0,o.w5)((()=>[(0,o.Wm)(c,{size:"large",onClick:a[2]||(a[2]=e=>(0,r.dq)(n)?n.value=!1:n=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1}),(0,o.Wm)(c,{size:"large",type:"primary",onClick:a[3]||(a[3]=e=>s((0,r.SU)(t)))},{default:(0,o.w5)((()=>[(0,o.Uk)("确认")])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(u,{"label-position":"top",size:"large",model:(0,r.SU)(l),ref_key:"singleTagForm",ref:t},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{label:"出处（30字符以内）",prop:"tag",rules:[{required:!0,pattern:/\S+/,message:"内容不能为空",trigger:["change","blur"]}]},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:(0,r.SU)(l).tag,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,r.SU)(l).tag=e),maxlength:"30",clearable:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(d,{label:"出处链接（可不填）",prop:"link",rules:[{pattern:/\S+/,message:"内容不能为空",trigger:["change","blur"]}]},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:(0,r.SU)(l).link,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,r.SU)(l).link=e),maxlength:"100",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}}};t(5949);const B=K;var A=B;function Q(e,a){return new Promise(((t,l)=>{$.ajax({url:"/api/submitTranslationsToTemp",type:"POST",timeout:3e3,data:{word:e,translation:a},dataType:"JSON",success:function(e){0==e.code?t(!0):l(!1)},error:function(e){console.log(e),l(!1)}})}))}function Y(e,a){$.ajax({url:"/api/addLikesToPersistence",type:"POST",timeout:3e3,data:{word:e,translation:a},dataType:"JSON",success:function(e){console.log(e),0==e.code?b.z8.success("成功！"):b.z8.error("失败！")},error:function(){b.z8.error("失败！")}})}function G(e,a,t){$.ajax({url:"/api/addErratum",type:"POST",timeout:1e3,data:{word:e,translation:a,reason:t},dataType:"JSON",success:function(e){0==e.code?b.z8.success("提交成功！"):b.z8.error("提交失败！")},error:function(){b.z8.error("提交失败！")}})}function I(e){return null==e||"null"==e?null:e.replaceAll("_","/").replaceAll("-",".")}const R={forLength30:function(e){return!(e.match(/^\s+$/)||e.length>30||0==e.length)},forLength50:function(e){return!(e.match(/^\s+$/)||e.length>50||0==e.length)},forLength100:function(e){return!(e.match(/^\s+$/)||e.length>100||0==e.length)}},X={class:"translation-add-wrapper"},ee={class:"translation-word-title"},ae=["onClick"],te={class:"translation-text"},le=["href"],ne=["onClick"],oe={key:0,class:"icon-wrapper"},re={class:"add-like-icon"},ie={class:"icon-text"},se={key:1,class:"icon-wrapper"},de={class:"sub-error-icon"},ue=(0,o._)("span",{class:"icon-text"},"纠错",-1);var ce={__name:"ShowBox",props:["resource","inputKeywords"],setup(e){const a=e,t=(0,r.iH)(null),i=(0,r.iH)(null),s=e=>{i.value.showDialog(e)},d=e=>{let l=e.target.dataset.i,n=e.target.dataset.j;t.value.showDialog(a.resource.data[l].data[n].translation)};function u(e){let t=e.target.dataset.i,l=e.target.dataset.j;console.log(a.resource.data[t].word),console.log(a.resource.data[t].data[l].translation),Y(a.resource.data[t].word,a.resource.data[t].data[l].translation),0==a.resource.data[t].data[l].liked?(a.resource.data[t].data[l].liked=1,a.resource.data[t].data[l].likes+=1):(a.resource.data[t].data[l].liked=0,a.resource.data[t].data[l].likes-=1)}function c(e){let t=e.target.dataset.i,l=e.target.dataset.j,n=a.resource.data[t].word,o=a.resource.data[t].data[l].translation;H.T.prompt("错误原因（100字以内）：","纠错",{confirmButtonText:"确认",cancelButtonText:"取消",inputValidator:R.forLength100,inputErrorMessage:"内容为空或字数超过100"}).then((({value:e})=>{G(n,o,e.trim())})).catch((()=>{(0,b.z8)({type:"info",message:"取消"})}))}return(a,p)=>{const m=y.Kf,f=D.Dv,g=C.dq,w=k.mi,h=q.Q2;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(h,{fill:"fill",direction:"vertical",size:30,style:{width:"100%"}},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.resource.data,((e,a)=>((0,o.wg)(),(0,o.j4)(h,{class:"single-wrapper",key:a,fill:"fill",direction:"vertical"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"translation-add"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{span:24},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{shadow:"always"},{default:(0,o.w5)((()=>[(0,o._)("div",X,[(0,o._)("span",ee,(0,_.zw)(e.word),1),(0,o._)("span",{class:"translation-icon",onClick:a=>s(e.word)},"添加➕",8,ae)])])),_:2},1024)])),_:2},1024)])),_:2},1024),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.data,((t,i)=>((0,o.wg)(),(0,o.j4)(g,{key:i,gutter:3,class:"single-translation"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"translation-content",shadow:"never"},{default:(0,o.w5)((()=>[(0,o._)("span",te,[(0,o._)("span",null,(0,_.zw)(t.translation),1),null!=t.source&&""!=t.source?((0,o.wg)(),(0,o.iD)("a",{key:0,class:(0,_.C_)((0,r.SU)(I)(t.url)?"tag-url":"tag"),href:(0,r.SU)(I)(t.url),target:"_blank"},(0,_.zw)(t.source),11,le)):(0,o.kq)("",!0),null===t.source||""==t.source?((0,o.wg)(),(0,o.j4)(w,{key:1,"data-i":a,"data-j":i,onClick:d,size:"small"},{default:(0,o.w5)((()=>[(0,o.Uk)("添加tag")])),_:2},1032,["data-i","data-j"])):(0,o.kq)("",!0),(0,o.wy)((0,o._)("a",{href:"#",onClick:(0,l.iM)((a=>(0,r.SU)(Q)(e.word)),["prevent"])},"点此添加 ",8,ne),[[l.F8,"暂无数据，"==t.translation]])]),void 0!=t.likes?((0,o.wg)(),(0,o.iD)("span",oe,[(0,o._)("span",re,[(0,o.Wm)(w,{onClick:u,"data-i":a,"data-j":i,type:0==t.liked?"none":"success",icon:(0,r.SU)(n.Star),circle:""},null,8,["data-i","data-j","type","icon"])]),(0,o._)("span",ie,(0,_.zw)(t.likes),1)])):(0,o.kq)("",!0),void 0!=t.likes?((0,o.wg)(),(0,o.iD)("span",se,[(0,o._)("span",de,[(0,o.Wm)(w,{onClick:c,"data-i":a,"data-j":i,type:"danger",icon:(0,r.SU)(n.Delete),circle:""},null,8,["data-i","data-j","icon"])]),ue])):(0,o.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)))),128))])),_:1}),(0,o.Wm)((0,r.SU)(E),{ref_key:"meaningDialog",ref:i},null,512),(0,o.Wm)((0,r.SU)(A),{ref_key:"tagDialog",ref:t},null,512)],64)}}};t(684);const pe=ce;var me=pe;t(7658);const fe={class:"ques-wrapper"},ge=(0,o._)("h2",null,"问卷：知道几个填几个",-1),we={class:"question-space"};var he={__name:"Question",props:["words"],emits:["closeQues"],setup(e,{emit:a}){const t=e,i=(0,r.iH)("");let s=(0,r.qj)({content:[]});for(let l=0;l<t.words.length;l++)s.content.push({word:t.words[l].word,translation:"",more:!1,tag:"",link:null});const d=async e=>{if(!e)return;let t=s.content.filter((e=>""!=e.translation));if(0==t.length)return void b.z8.warning("内容为空");let l=/^[A-Za-z0-9]$/,n=t.filter((e=>!(l.test(e.translation)||e.word==e.translation)));await e.validate(((e,t)=>{e?(u.value=!0,0==n.length?(b.z8.success("提交完成"),u.value=!1,a("closeQues")):p(0,n)):b.z8.error("含有非法内容")}))};let u=(0,r.iH)(!1),c=[0,0];function p(e,t){e==t.length?(H.T.alert("成功："+c[1]+"个，失败："+c[0]+"个","提交完成",{confirmButtonText:"OK"}),u.value=!1,a("closeQues")):$.ajax({url:"/api/submitTranslationsToTemp",type:"POST",timeout:3e3,data:{word:t[e].word,translation:t[e].translation},dataType:"JSON",success:function(a){0==a.code?(c[1]++,""!=t[e].tag&&N(t[e].translation,t[e].tag.trim(),t[e].link),p(e+1,t)):(c[0]++,p(e+1,t))},error:function(a){c[0]++,p(e+1,t)}})}return(a,t)=>{const c=k.mi,p=L.EZ,m=q.Q2,f=P.nH,w=P.ly,h=g.t;return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",fe,[ge,(0,o.Wm)(w,{ref_key:"wordsForm",ref:i,model:(0,r.SU)(s),"label-position":"top",class:"ques-form",style:{"max-width":"800px"}},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.words,((e,a)=>((0,o.wg)(),(0,o.j4)(f,{key:a,label:`${a+1}. ${e.word}`,prop:"content."+a+".translation",rules:[{pattern:/\S+/,message:"内容不能为空",trigger:["change","blur"]}]},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"question-space",fill:"",direction:"vertical"},{default:(0,o.w5)((()=>[(0,o._)("div",we,[(0,o.Wm)(p,{modelValue:(0,r.SU)(s).content[a].translation,"onUpdate:modelValue":e=>(0,r.SU)(s).content[a].translation=e,size:"large",maxlength:"100",placeholder:"请输入释义"},{append:(0,o.w5)((()=>[(0,o.Wm)(c,{icon:(0,r.SU)(n.MoreFilled),onClick:e=>(0,r.SU)(s).content[a].more=!(0,r.SU)(s).content[a].more},null,8,["icon","onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue"])]),(0,o.Wm)(l.uT,{name:"fade"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(m,{class:"question-space more",fill:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:(0,r.SU)(s).content[a].tag,"onUpdate:modelValue":e=>(0,r.SU)(s).content[a].tag=e,size:"large",maxlength:"100",placeholder:"出处（可不填）"},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(p,{modelValue:(0,r.SU)(s).content[a].link,"onUpdate:modelValue":e=>(0,r.SU)(s).content[a].link=e,size:"large",maxlength:"100",placeholder:"出处链接（可不填）"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1536),[[l.F8,(0,r.SU)(s).content[a].more]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["label","prop"])))),128)),(0,o.Wm)(f,{size:"large",class:"form-btn"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{type:"danger",onClick:t[0]||(t[0]=e=>i.value.resetFields())},{default:(0,o.w5)((()=>[(0,o.Uk)("清空")])),_:1}),(0,o.Wm)(c,{type:"primary",onClick:t[1]||(t[1]=e=>d(i.value))},{default:(0,o.w5)((()=>[(0,o.Uk)("提交")])),_:1})])),_:1})])),_:1},8,["model"])])),[[h,(0,r.SU)(u)]])}}};t(5718);const ye=he;var ve=ye,ke={__name:"WordDialog",setup(e,{expose:a}){let t=(0,r.iH)(null),l=(0,r.qj)({word:"",translation:"",tag:"",link:null}),n=(0,r.iH)(!1);const i=()=>{n.value=!0};a({showDialog:i});const s=async e=>{e&&await e.validate(((e,a)=>{if(e){let e=l.word.trim();n.value=!1,$.ajax({url:"/api/addWords",type:"POST",timeout:3e3,data:{word:e},dataType:"JSON",success:function(a){console.log(a),0==a.code?(b.z8.success("词条添加成功！"),""!=l.translation?$.ajax({url:"/api/submitTranslationsToTemp",type:"POST",timeout:3e3,data:{word:e,translation:l.translation.trim()},dataType:"JSON",success:function(e){t.value.resetFields(),0==e.code?(b.z8.success("释义提交成功！"),N(l.translation.trim(),l.tag.trim(),l.link)):b.z8.error("释义提交错误！")},error:function(){t.value.resetFields(),b.z8.error("释义提交失败！")}}):t.value.resetFields()):(t.value.resetFields(),b.z8.error("词条添加失败！"))},error:function(e){console.log(e),t.value.resetFields(),b.z8.error("词条添加失败！")}})}else b.z8.warning("内容为空")}))};return(e,a)=>{const i=L.EZ,d=P.nH,u=P.ly,c=k.mi,p=F.d0;return(0,o.wg)(),(0,o.j4)(p,{class:"dialog",modelValue:(0,r.SU)(n),"onUpdate:modelValue":a[6]||(a[6]=e=>(0,r.dq)(n)?n.value=e:n=e),"lock-scroll":"true",title:"提交词条",width:"450px","align-center":"",center:"","close-delay":"100"},{footer:(0,o.w5)((()=>[(0,o.Wm)(c,{size:"large",onClick:a[4]||(a[4]=e=>(0,r.dq)(n)?n.value=!1:n=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1}),(0,o.Wm)(c,{size:"large",type:"primary",onClick:a[5]||(a[5]=e=>s((0,r.SU)(t)))},{default:(0,o.w5)((()=>[(0,o.Uk)("确认")])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(u,{"label-position":"top",size:"large",model:(0,r.SU)(l),ref_key:"singleWordForm",ref:t},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{label:"词条（50字符以内）",prop:"word",rules:[{required:!0,pattern:/\S+/,message:"内容不能为空",trigger:["change","blur"]}]},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:(0,r.SU)(l).word,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,r.SU)(l).word=e),maxlength:"50",clearable:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(d,{label:"释义（可不填，100字符以内）",prop:"translation",rules:[{pattern:/\S+/,message:"内容不能为空",trigger:["change","blur"]}]},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:(0,r.SU)(l).translation,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,r.SU)(l).translation=e),maxlength:"100",clearable:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(d,{label:"出处（可不填，30字符以内）",prop:"tag"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:(0,r.SU)(l).tag,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,r.SU)(l).tag=e),maxlength:"30",clearable:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(d,{label:"出处链接（可不填）",prop:"link"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:(0,r.SU)(l).link,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,r.SU)(l).link=e),clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}}};t(3652);const Se=ke;var xe=Se;function be(e){return(0,r.ZM)(((a,t)=>{let l;return{get(){return a(),e},set(a){clearTimeout(l),l=setTimeout((()=>{e=a,t()}),500)}}}))}function _e(e){let a=[];e=e.sort(Ue);let t={word:"",data:[]};for(let l=0;l<e.length;l++)0==l?(t.word=e[l].word,t.data.push({translation:e[l].translation,likes:e[l].likes,liked:e[l].liked,source:e[l].source,url:e[l].url})):(e[l].word==t.word||(a.push(JSON.parse(JSON.stringify(t))),t.word=e[l].word,t.data.length=0),t.data.push({translation:e[l].translation,likes:e[l].likes,liked:e[l].liked,source:e[l].source,url:e[l].url}));return a.push(t),a}function Ue(e,a){return e.word>a.word?-1:e.word<a.word?1:0}const We={class:"switch-wrapper"},ze=(0,o._)("span",{class:"el-switch"}," 模糊搜索：",-1),Te={key:0,class:"show-box"},je={class:"btn-wrapper"},Ve={class:"ques-wrapper",style:{"min-height":"200px"}},Oe={class:"setu-wrapper"};var Me={__name:"Main",setup(e){$((function(){(0,x.bM)({title:"提示",message:"成功提交问卷可获得一张涩图",duration:3e3,showClose:!0})}));let a=be(""),t=(0,r.qj)({main:!1,return:!1,loading:!0,fuzzy:!1}),n=(0,o.Fl)((()=>t.fuzzy?"/api/fuzzyQuery":"/api/getTranslationsFromPersistence")),i=(0,r.qj)({words:{},data:[]});function s(e,a){return e.likes>a.likes?-1:e.likes<a.likes?1:0}(0,o.YP)([a,n],(([e])=>{i.data.length=0,null==e.match(/\S/)?(t.main=!1,t.return=!1):(t.return=!0,t.loading=!0,$.ajax({url:n.value,type:"POST",timeout:5e3,data:{word:e},dataType:"JSON",success:function(e){if(console.log(e),0!=e.code)i.data=[{word:a,data:[{translation:"暂无数据，"}]}],t.main=!0,t.loading=!1;else{let l=e.data.map((e=>e.translation));$.ajax({url:"/api/isLiked",type:"POST",timeout:5e3,traditional:!0,data:{translations:l},dataType:"JSON",success:function(a){a.forEach(((a,t)=>{e.data[t].liked=a})),i.data=_e(e.data.sort(s)),t.main=!0,t.loading=!1},error:function(){i.data=[{word:a,data:[{translation:"请求失败"}]}],t.main=!0,t.loading=!1}})}},error:function(){b.z8.error("请求超时"),i.data=[{word:a,data:[{translation:"请求失败"}]}],t.main=!0,t.loading=!1}}))}),{immediate:!0});const d=(0,r.iH)(null),u=()=>{d.value.showDialog()};let c=(0,r.qj)({isShowGetBtn:!1,isShowWrapper:!1,isLoading:!0,isShow:!1,url:""}),p=(0,r.qj)({clickCase:f,leftTime:60,text:"获取问卷",wordsNum:5,canClick:!0,disabled:!1}),m=(0,r.qj)({isShowWrapper:!1,isLoading:!1,isShow:!1});function f(){m.isShowWrapper=!0,m.isLoading=!0,$.ajax({url:"/api/getRandomQuestionnaire",type:"POST",timeout:3e3,data:{limit:p.wordsNum},dataType:"JSON",success:function(e){if(0!=e.code){p.leftTime=parseInt(e.message.match(/\d+(?=秒)/)),p.clickCase=U;var a=setInterval((()=>{p.leftTime-=1}),1e3);setTimeout((()=>{p.clickCase=f,clearInterval(a),p.leftTime=60}),1e3*p.leftTime),b.z8.warning("还有"+p.leftTime+"秒可以再次获取问卷"),m.isLoading=!1,m.isShowWrapper=!1}else{p.clickCase=U;a=setInterval((()=>{p.leftTime-=1}),1e3);setTimeout((()=>{p.clickCase=f,clearInterval(a),p.leftTime=60}),6e4),i.words=e.data,m.isShow=!0,p.canClick=!1,m.isLoading=!1,p.text="成功！！"}},error:function(e,a,t){b.z8.error("发生错误，"+a,t),m.isShowWrapper=!1,m.isLoading=!1}})}function U(){b.z8.warning("还有"+p.leftTime+"秒可以再次获取问卷")}function W(){m.isShow=!1,m.isShowWrapper=!1,p.text="获取问卷",p.canClick=!0,c.isShowGetBtn=!0}function z(){c.isShowGetBtn=!1,c.isLoading=!0,c.isShowWrapper=!0,$.ajax({url:"https://moe.jitsu.top/api/?sort=setu&type=json",type:"POST",timeout:3600,success:function(e){c.url=e.pics[0],c.isShow=!0,c.isLoading=!1},error:function(){$.ajax({url:"https://moe.jitsu.top/api/?sort=setu&type=json",type:"POST",timeout:3600,success:function(e){c.url=e.pics[0],c.isShow=!0,c.isLoading=!1},error:function(e){console.log(e),c.url="https://pic.rmb.bdstatic.com/bjh/deba8ed0fff162acdb0dc256eb02bd04.jpeg",c.isShow=!0,c.isLoading=!1}})}})}return(e,n)=>{const s=S.OX,f=k.mi,x=v.BM,b=y.Kf,U=h.YK,T=w.b2,j=w.G4,V=g.t;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("section",null,[(0,o.Wm)(j,{class:"main-wrapper-inner"},{default:(0,o.w5)((()=>[(0,o.Wm)(T,null,{default:(0,o.w5)((()=>[(0,o._)("div",We,[ze,(0,o.Wm)(s,{modelValue:(0,r.SU)(t).fuzzy,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,r.SU)(t).fuzzy=e)},null,8,["modelValue"])]),(0,o.wy)((0,o._)("textarea",{name:"input",id:"input","onUpdate:modelValue":n[1]||(n[1]=e=>(0,r.dq)(a)?a.value=e:a=e),rows:"10",maxlength:"100",placeholder:"在这里输入要翻译的词（包括但不限于拼音缩写/中文黑话/emoji，100字符以内）",autofocus:""},null,512),[[l.nr,(0,r.SU)(a)]]),(0,r.SU)(t).return?(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",Te,[(0,r.SU)(t).main?((0,o.wg)(),(0,o.j4)((0,r.SU)(me),{key:0,inputKeywords:(0,r.SU)(a),resource:(0,r.SU)(i)},null,8,["inputKeywords","resource"])):(0,o.kq)("",!0)])),[[V,(0,r.SU)(t).loading]]):(0,o.kq)("",!0),(0,o._)("div",je,[(0,o.Wm)(f,{id:"add-btn",type:"success",size:"large",onClick:u},{default:(0,o.w5)((()=>[(0,o.Uk)("添加词条")])),_:1}),(0,o.Wm)(U,{"split-button":"",type:"primary",onClick:n[3]||(n[3]=e=>(0,r.SU)(p).canClick&&(0,r.SU)(p).clickCase()),size:"large",disabled:(0,r.SU)(p).disabled,trigger:"click","hide-on-click":!1},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(b,{style:{width:"360px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{min:1,max:20,modelValue:(0,r.SU)(p).wordsNum,"onUpdate:modelValue":n[2]||(n[2]=e=>(0,r.SU)(p).wordsNum=e),"show-input":""},null,8,["modelValue"])])),_:1})])),default:(0,o.w5)((()=>[(0,o.Uk)((0,_.zw)((0,r.SU)(p).text)+" ",1)])),_:1},8,["disabled"])]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",Ve,[(0,r.SU)(m).isShow?((0,o.wg)(),(0,o.j4)((0,r.SU)(ve),{key:0,words:(0,r.SU)(i).words,onCloseQues:W},null,8,["words"])):(0,o.kq)("",!0)])),[[l.F8,(0,r.SU)(m).isShowWrapper],[V,(0,r.SU)(m).isLoading]]),(0,r.SU)(c).isShowGetBtn?((0,o.wg)(),(0,o.j4)(f,{key:1,onClick:z,size:"large",type:"warning",style:{display:"block",margin:"30px auto"}},{default:(0,o.w5)((()=>[(0,o.Uk)("获取图片")])),_:1})):(0,o.kq)("",!0),(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",Oe,[(0,r.SU)(c).isShow?((0,o.wg)(),(0,o.j4)((0,r.SU)(M),{key:0,url:(0,r.SU)(c).url},null,8,["url"])):(0,o.kq)("",!0)])),[[l.F8,(0,r.SU)(c).isShowWrapper],[V,(0,r.SU)(c).isLoading]])])),_:1})])),_:1})]),(0,o.Wm)((0,r.SU)(xe),{ref_key:"wordDialog",ref:d},null,512)],64)}}};t(1705);const qe=Me;var Ce=qe,De=t(3812),He=t.n(De);const Fe=["innerHTML"];var Pe={__name:"Markdown",setup(e){const a=(0,r.iH)("");return $.ajax({url:"https://info.midsummra.com/README.md",type:"GET",timeout:3e3,success:function(e){a.value=(new(He())).render(e)},error:function(e){console.log(e)}}),(e,t)=>{const l=y.Kf;return(0,o.wg)(),(0,o.j4)(l,{shadow:"never","body-style":"text-align:left",class:"md"},{default:(0,o.w5)((()=>[(0,o._)("div",{class:"markdown-body",innerHTML:a.value},null,8,Fe)])),_:1})}}};t(6670);const $e=Pe;var Le=$e;const Ne={class:"wrapper"},Ze={class:"main-wrapper"};var Je={__name:"App",setup(e){return(e,a)=>((0,o.wg)(),(0,o.iD)("div",Ne,[(0,o._)("div",Ze,[(0,o.Wm)((0,r.SU)(f)),(0,o.Wm)((0,r.SU)(Ce)),(0,o.Wm)((0,r.SU)(Le))])]))}};t(6608);const Ee=Je;var Ke=Ee;const Be=(0,l.ri)(Ke);for(const[$,Ae]of Object.entries(n))Be.component($,Ae);Be.mount("#app")},6608:function(e,a,t){var l=t(4193);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=t(7037).Z;n("f3619a68",l,!0,{sourceMap:!1,shadowMode:!1})},1705:function(e,a,t){var l=t(344);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=t(7037).Z;n("d279d80a",l,!0,{sourceMap:!1,shadowMode:!1})},6670:function(e,a,t){var l=t(2631);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=t(7037).Z;n("41357326",l,!0,{sourceMap:!1,shadowMode:!1})},5014:function(e,a,t){var l=t(607);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=t(7037).Z;n("26083bae",l,!0,{sourceMap:!1,shadowMode:!1})},5718:function(e,a,t){var l=t(6080);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=t(7037).Z;n("370dff2c",l,!0,{sourceMap:!1,shadowMode:!1})},684:function(e,a,t){var l=t(2536);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=t(7037).Z;n("808334de",l,!0,{sourceMap:!1,shadowMode:!1})},5949:function(e,a,t){var l=t(4504);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=t(7037).Z;n("a91e0f22",l,!0,{sourceMap:!1,shadowMode:!1})},3652:function(e,a,t){var l=t(7329);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=t(7037).Z;n("430d6c72",l,!0,{sourceMap:!1,shadowMode:!1})},3867:function(e){"use strict";e.exports='data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"/></svg>'}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var o=a[l]={id:l,exports:{}};return e[l](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,o){if(!l){var r=1/0;for(u=0;u<e.length;u++){l=e[u][0],n=e[u][1],o=e[u][2];for(var i=!0,s=0;s<l.length;s++)(!1&o||r>=o)&&Object.keys(t.O).every((function(e){return t.O[e](l[s])}))?l.splice(s--,1):(i=!1,o<r&&(r=o));if(i){e.splice(u--,1);var d=n();void 0!==d&&(a=d)}}return a}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[l,n,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.b=document.baseURI||self.location.href;var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,o,r=l[0],i=l[1],s=l[2],d=0;if(r.some((function(a){return 0!==e[a]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(s)var u=s(t)}for(a&&a(l);d<r.length;d++)o=r[d],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(u)},l=self["webpackChunkdemo"]=self["webpackChunkdemo"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[998],(function(){return t(569)}));l=t.O(l)})();
//# sourceMappingURL=app.5052c1d9.js.map